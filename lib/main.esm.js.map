{"version":3,"file":"main.esm.js","sources":["../src/storage/LocalStorageFake.ts","../src/events/StorageFlushing.ts","../src/events/StorageFlushed.ts","../src/events/RetrievingKey.ts","../src/events/KeyHit.ts","../src/events/KeyMissed.ts","../src/events/KeyWriteFailed.ts","../src/events/KeyWritten.ts","../src/events/WritingKey.ts","../src/events/KeyForgotten.ts","../src/events/KeyForgotFailed.ts","../src/storage/LocalStorage.ts"],"sourcesContent":["export class LocalStorageFake implements Storage {\r\n    /**\r\n     * Current used storage in bytes.\r\n     *\r\n     * @type { number }\r\n     */\r\n    #used: number = 0;\r\n\r\n    /**\r\n     * Maximum storage quota (5MB for most modern browsers).\r\n     *\r\n     * @type { number }\r\n     */\r\n    #quota: number = 5 * 1024 * 1024;\r\n\r\n    /**\r\n     * Storage property.\r\n     *\r\n     * @type { string }\r\n     */\r\n    [key: string]: any;\r\n\r\n    /**\r\n     * Create a new Storage instance.\r\n     */\r\n    constructor() {\r\n        this.#used = this.space();\r\n    }\r\n\r\n    /**\r\n     * Returns an integer representing the number of data items stored in the Storage object.\r\n     *\r\n     * @return { number }\r\n     */\r\n    get length(): number {\r\n        return Object.keys(this).length;\r\n    }\r\n\r\n    /**\r\n     * When passed a key name, will return that key's value.\r\n     *\r\n     * @param { string } keyName\r\n     *\r\n     * @return { any }\r\n     */\r\n    getItem(keyName: string): string {\r\n        return this[keyName] || null;\r\n    }\r\n\r\n    /**\r\n     * When passed a key name and value, will add that key to the storage, or update that key's value if it already exists.\r\n     *\r\n     * @param { string } keyName\r\n     * @param { string } keyValue\r\n     *\r\n     * @return { void }\r\n     */\r\n    setItem(keyName: string, keyValue: string): void {\r\n        const value: string = String(keyValue);\r\n\r\n        if (this.exceeded(keyName, value)) {\r\n            this.throw(keyName);\r\n        }\r\n\r\n        this[keyName] = value;\r\n\r\n        this.#used = this.space();\r\n    }\r\n\r\n    /**\r\n     * When passed a key name, will remove that key from the storage.\r\n     *\r\n     * @param { string } keyName\r\n     *\r\n     * @return { void }\r\n     */\r\n    removeItem(keyName: string): void {\r\n        delete this[keyName];\r\n\r\n        this.#used = this.space();\r\n    }\r\n\r\n    /**\r\n     * When invoked, will empty all keys out of the storage.\r\n     *\r\n     * @return { void }\r\n     */\r\n    clear(): void {\r\n        for (const key of Object.keys(this)) {\r\n            delete this[key];\r\n        }\r\n\r\n        this.#used = this.space();\r\n    }\r\n\r\n    /**\r\n     * When passed a number n, returns the name of the nth key in a given Storage object.\r\n     *\r\n     * @param { number } index\r\n     *\r\n     * @return { string | null }\r\n     */\r\n    key(index: number): string | null {\r\n        return Object.keys(this)[index] ?? null;\r\n    }\r\n\r\n    /**\r\n     * Calculate current used storage space in bytes.\r\n     *\r\n     * @return { number }\r\n     */\r\n    private space(): number {\r\n        this.#used = 0;\r\n\r\n        for (const key of Object.keys(this)) {\r\n            this.#used += this.size(key, this[key]);\r\n        }\r\n\r\n        return this.#used;\r\n    }\r\n\r\n    /**\r\n     * Calculate the size a new item would take in bytes.\r\n     *\r\n     * @param { string } keyName\r\n     * @param { string } keyValue\r\n     *\r\n     * @return { number }\r\n     */\r\n    private size(keyName: string, keyValue: string): number {\r\n        return new Blob([keyName, keyValue]).size;\r\n    }\r\n\r\n    /**\r\n     * Determine if the Storage quota is exceeded.\r\n     *\r\n     * @param { string } keyName\r\n     * @param { string } keyValue\r\n     *\r\n     * @return { boolean }\r\n     */\r\n    private exceeded(keyName: string, keyValue: string): boolean {\r\n        return this.size(keyName, keyValue) + this.#used > this.#quota;\r\n    }\r\n\r\n    /**\r\n     * Throws an error in case the Storage quota is exceeded.\r\n     *\r\n     * @param { string } keyName\r\n     *\r\n     * @return { void }\r\n     */\r\n    private throw(keyName: string): void {\r\n        throw new DOMException(`Failed to execute 'setItem' on 'Storage': Setting the value of '${keyName}' exceeded the quota.`, 'QuotaExceededError');\r\n    }\r\n}","export class StorageFlushing extends Event {\r\n    /**\r\n     * The key of the event.\r\n     *\r\n     * @type { string }\r\n     */\r\n    readonly #key: string;\r\n\r\n    /**\r\n     * Create a new Storage Flushing Event instance.\r\n     */\r\n    constructor() {\r\n        super('local-storage:flushing');\r\n    }\r\n\r\n    /**\r\n     * Get the key of the event.\r\n     *\r\n     * @return { string }\r\n     */\r\n    get key(): string {\r\n        return this.#key;\r\n    }\r\n}\r\n","export class StorageFlushed extends Event {\r\n    /**\r\n     * The key of the event.\r\n     *\r\n     * @type { string }\r\n     */\r\n    readonly #key: string;\r\n\r\n    /**\r\n     * Create a new Storage Flushed Event instance.\r\n     */\r\n    constructor() {\r\n        super('local-storage:flushed');\r\n    }\r\n\r\n    /**\r\n     * Get the key of the event.\r\n     *\r\n     * @return { string }\r\n     */\r\n    get key(): string {\r\n        return this.#key;\r\n    }\r\n}\r\n","export class RetrievingKey extends Event {\r\n    /**\r\n     * The key of the event.\r\n     *\r\n     * @type { string }\r\n     */\r\n    readonly #key: string;\r\n\r\n    /**\r\n     * Create a new Retrieving Key Event instance.\r\n     *\r\n     * @param { string } key\r\n     */\r\n    constructor(key: string) {\r\n        super('local-storage:retrieving');\r\n\r\n        this.#key = key;\r\n    }\r\n\r\n    /**\r\n     * Get the key of the event.\r\n     *\r\n     * @return { string }\r\n     */\r\n    get key(): string {\r\n        return this.#key;\r\n    }\r\n}\r\n","export class KeyHit extends Event {\r\n    /**\r\n     * The key of the event.\r\n     *\r\n     * @type { string }\r\n     */\r\n    readonly #key: string;\r\n\r\n    /**\r\n     * The value of the key.\r\n     *\r\n     * @type { string }\r\n     */\r\n    readonly #value: string;\r\n\r\n    /**\r\n     * Create a new Key Hit Event instance.\r\n     *\r\n     * @param { string } key\r\n     * @param { string } value\r\n     */\r\n    constructor(key: string, value: any) {\r\n        super('local-storage:hit');\r\n\r\n        this.#key = key;\r\n        this.#value = value;\r\n    }\r\n\r\n    /**\r\n     * Get the key of the event.\r\n     *\r\n     * @return { string }\r\n     */\r\n    get key(): string {\r\n        return this.#key;\r\n    }\r\n\r\n    /**\r\n     * Get the value of the key.\r\n     *\r\n     * @return { * }\r\n     */\r\n    get value(): any {\r\n        return this.#value;\r\n    }\r\n}\r\n","export class KeyMissed extends Event {\r\n    /**\r\n     * The key of the event.\r\n     *\r\n     * @type { string }\r\n     */\r\n    readonly #key: string;\r\n\r\n    /**\r\n     * Create a new Key Missed Event instance.\r\n     *\r\n     * @param { string } key\r\n     */\r\n    constructor(key: string) {\r\n        super('local-storage:missed');\r\n\r\n        this.#key = key;\r\n    }\r\n\r\n    /**\r\n     * Get the key of the event.\r\n     *\r\n     * @return { string }\r\n     */\r\n    get key(): string {\r\n        return this.#key;\r\n    }\r\n}\r\n","export class KeyWriteFailed extends Event {\r\n    /**\r\n     * The key of the event.\r\n     *\r\n     * @type { string }\r\n     */\r\n    readonly #key: string;\r\n\r\n    /**\r\n     * The value of the key.\r\n     *\r\n     * @type { string }\r\n     */\r\n    readonly #value: string;\r\n\r\n    /**\r\n     * The validity period in seconds since Unix Epoch.\r\n     *\r\n     * @type { number | number }\r\n     */\r\n    readonly #expiry: number | null;\r\n\r\n    /**\r\n     * Create a new Key Write Failed Event instance.\r\n     *\r\n     * @param { string } key\r\n     * @param { string } value\r\n     * @param { number | null } expiry\r\n     */\r\n    constructor(key: string, value: any, expiry: number | null = null) {\r\n        super('local-storage:write-failed');\r\n\r\n        this.#key = key;\r\n        this.#value = value;\r\n        this.#expiry = expiry;\r\n    }\r\n\r\n    /**\r\n     * Get the key of the event.\r\n     *\r\n     * @return { string }\r\n     */\r\n    get key(): string {\r\n        return this.#key;\r\n    }\r\n\r\n    /**\r\n     * Get the value of the key.\r\n     *\r\n     * @return { * }\r\n     */\r\n    get value(): any {\r\n        return this.#value;\r\n    }\r\n\r\n    /**\r\n     * Get the validity period in milliseconds since Unix Epoch.\r\n     *\r\n     * @return { number | null }\r\n     */\r\n    get expiry(): number | null {\r\n        return this.#expiry;\r\n    }\r\n}\r\n","export class KeyWritten extends Event {\r\n    /**\r\n     * The key of the event.\r\n     *\r\n     * @type { string }\r\n     */\r\n    readonly #key: string;\r\n\r\n    /**\r\n     * The value of the key.\r\n     *\r\n     * @type { string }\r\n     */\r\n    readonly #value: string;\r\n\r\n    /**\r\n     * The validity period in seconds since Unix Epoch.\r\n     *\r\n     * @type { number | number }\r\n     */\r\n    readonly #expiry: number | null;\r\n\r\n    /**\r\n     * Create a new Key Written Event instance.\r\n     *\r\n     * @param { string } key\r\n     * @param { string } value\r\n     * @param { number | null} expiry\r\n     */\r\n    constructor(key: string, value: any, expiry: number | null = null) {\r\n        super('local-storage:written');\r\n\r\n        this.#key = key;\r\n        this.#value = value;\r\n        this.#expiry = expiry;\r\n    }\r\n\r\n    /**\r\n     * Get the key of the event.\r\n     *\r\n     * @return { string }\r\n     */\r\n    get key(): string {\r\n        return this.#key;\r\n    }\r\n\r\n    /**\r\n     * Get the value of the key.\r\n     *\r\n     * @return { * }\r\n     */\r\n    get value(): any {\r\n        return this.#value;\r\n    }\r\n\r\n    /**\r\n     * Get the validity period in milliseconds since Unix Epoch.\r\n     *\r\n     * @return { number | null }\r\n     */\r\n    get expiry(): number | null {\r\n        return this.#expiry;\r\n    }\r\n}\r\n","export class WritingKey extends Event {\r\n    /**\r\n     * The key of the event.\r\n     *\r\n     * @type { string }\r\n     */\r\n    readonly #key: string;\r\n\r\n    /**\r\n     * The value of the key.\r\n     *\r\n     * @type { string }\r\n     */\r\n    readonly #value: string;\r\n\r\n    /**\r\n     * The validity period in seconds since Unix Epoch.\r\n     *\r\n     * @type { number | number }\r\n     */\r\n    readonly #expiry: number | null;\r\n\r\n    /**\r\n     * Create a new Writing Key Event instance.\r\n     *\r\n     * @param { string } key\r\n     * @param { string } value\r\n     * @param { number | null} expiry\r\n     */\r\n    constructor(key: string, value: any, expiry: number | null = null) {\r\n        super('local-storage:writing');\r\n\r\n        this.#key = key;\r\n        this.#value = value;\r\n        this.#expiry = expiry;\r\n    }\r\n\r\n    /**\r\n     * Get the key of the event.\r\n     *\r\n     * @return { string }\r\n     */\r\n    get key(): string {\r\n        return this.#key;\r\n    }\r\n\r\n    /**\r\n     * Get the value of the key.\r\n     *\r\n     * @return { * }\r\n     */\r\n    get value(): any {\r\n        return this.#value;\r\n    }\r\n\r\n    /**\r\n     * Get the validity period in milliseconds since Unix Epoch.\r\n     *\r\n     * @return { number | null }\r\n     */\r\n    get expiry(): number | null {\r\n        return this.#expiry;\r\n    }\r\n}\r\n","export class KeyForgotten extends Event {\r\n    /**\r\n     * The key of the event.\r\n     *\r\n     * @type { string }\r\n     */\r\n    readonly #key: string;\r\n\r\n    /**\r\n     * Create a new Key Forgotten Event instance.\r\n     *\r\n     * @param { string } key\r\n     */\r\n    constructor(key: string) {\r\n        super('local-storage:forgot');\r\n\r\n        this.#key = key;\r\n    }\r\n\r\n    /**\r\n     * Get the key of the event.\r\n     *\r\n     * @return { string }\r\n     */\r\n    get key(): string {\r\n        return this.#key;\r\n    }\r\n}\r\n","export class KeyForgotFailed extends Event {\r\n    /**\r\n     * The key of the event.\r\n     *\r\n     * @type { string }\r\n     */\r\n    readonly #key: string;\r\n\r\n    /**\r\n     * Create a new Key Forgot Failed Event instance.\r\n     *\r\n     * @param { string } key\r\n     */\r\n    constructor(key: string) {\r\n        super('local-storage:forgot-failed');\r\n\r\n        this.#key = key;\r\n    }\r\n\r\n    /**\r\n     * Get the key of the event.\r\n     *\r\n     * @return { string }\r\n     */\r\n    get key(): string {\r\n        return this.#key;\r\n    }\r\n}\r\n","import { LocalStorageFake } from './LocalStorageFake';\r\nimport {\r\n    KeyForgotFailed,\r\n    KeyForgotten,\r\n    KeyHit,\r\n    KeyMissed,\r\n    KeyWriteFailed,\r\n    KeyWritten,\r\n    type LocalStorageEvent,\r\n    type LocalStorageEventListener,\r\n    type LocalStorageEvents,\r\n    RetrievingKey,\r\n    StorageFlushed,\r\n    StorageFlushing,\r\n    WritingKey,\r\n} from '../events';\r\n\r\nexport type LocalStorageItem = {\r\n    data: any,\r\n    expiry: number | null\r\n};\r\n\r\nexport class LocalStorage {\r\n    /**\r\n     * Current Storage instance.\r\n     *\r\n     * @type { Storage }\r\n     */\r\n    static #storage: Storage = localStorage;\r\n\r\n    /**\r\n     * Item validity period in seconds.\r\n     *\r\n     * @type { number | null }\r\n     */\r\n    static #ttl: number | null = null;\r\n\r\n    /**\r\n     * Set the default item validity period in seconds.\r\n     *\r\n     * @param { number | null } value\r\n     *\r\n     * @return { void }\r\n     */\r\n    static ttl(value: number | null): void {\r\n        this.#ttl = value;\r\n    }\r\n\r\n    /**\r\n     * Set the key to the Storage object.\r\n     *\r\n     * @param { string } key\r\n     * @param { * } value\r\n     * @param { number | null } ttl\r\n     *\r\n     * @return { boolean }\r\n     */\r\n    static set(key: string, value: any, ttl: number | null = null): boolean {\r\n        ttl = ttl ?? this.#ttl;\r\n\r\n        const item: LocalStorageItem = {\r\n            data  : typeof value === 'function' ? value() : value,\r\n            expiry: ttl ? Date.now() + ttl * 1000 : null\r\n        };\r\n\r\n        this.emit(new WritingKey(key, item.data, item.expiry));\r\n\r\n        try {\r\n            this.#storage.setItem(key, JSON.stringify(item));\r\n\r\n            this.emit(new KeyWritten(key, item.data, item.expiry));\r\n        } catch {\r\n            this.emit(new KeyWriteFailed(key, item.data, item.expiry));\r\n\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Get the key from the Storage object.\r\n     *\r\n     * @param { string } key\r\n     * @param { string | Function | null } fallback\r\n     *\r\n     * @return { * }\r\n     */\r\n    static get(key: string, fallback: string | Function | null = null): any {\r\n        this.emit(new RetrievingKey(key));\r\n\r\n        const storageItem: string | null = this.#storage.getItem(key);\r\n\r\n        if (storageItem === null) {\r\n            this.emit(new KeyMissed(key));\r\n\r\n            return typeof fallback === 'function' ? fallback() : fallback;\r\n        }\r\n\r\n        let value: any;\r\n\r\n        try {\r\n            const item: LocalStorageItem = JSON.parse(storageItem);\r\n\r\n            if (item.expiry && Date.now() > item.expiry) {\r\n                this.remove(key);\r\n\r\n                return null;\r\n            }\r\n\r\n            value = item.data ?? item;\r\n        } catch {\r\n            value = storageItem;\r\n        }\r\n\r\n        this.emit(new KeyHit(key, value));\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Get the key from the Storage, or execute the given callback and store the result.\r\n     *\r\n     * @param { string } key\r\n     * @param { Function } callback\r\n     * @param { number | null } ttl\r\n     *\r\n     * @return { any }\r\n     */\r\n    static remember(key: string, callback: Function, ttl: number | null = null): any {\r\n        const item: string | null = this.get(key);\r\n\r\n        if (item === null) {\r\n            this.set(key, callback, ttl ?? this.#ttl);\r\n        }\r\n\r\n        return item ?? this.get(key);\r\n    }\r\n\r\n    /**\r\n     * Retrieves all items from the Storage object.\r\n     *\r\n     * @return { { key: string, value: any }[] }\r\n     */\r\n    static all(): { key: string, value: any }[] {\r\n        return this.keys().map((key: string): { key: string, value: any } => {\r\n            return { key, value: this.get(key) };\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Remove the key from the Storage object.\r\n     *\r\n     * @param { string } key\r\n     *\r\n     * @return { boolean }\r\n     */\r\n    static remove(key: string): boolean {\r\n        if (this.has(key)) {\r\n            this.#storage.removeItem(key);\r\n\r\n            this.emit(new KeyForgotten(key));\r\n\r\n            return true;\r\n        } else {\r\n            this.emit(new KeyForgotFailed(key));\r\n\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clear all keys stored in a given Storage object.\r\n     *\r\n     * @return { void }\r\n     */\r\n    static clear(): void {\r\n        this.emit(new StorageFlushing());\r\n\r\n        this.#storage.clear();\r\n\r\n        this.emit(new StorageFlushed());\r\n    }\r\n\r\n    /**\r\n     * Determine if the key exists in the Storage object.\r\n     *\r\n     * @param { string } key\r\n     *\r\n     * @return { boolean }\r\n     */\r\n    static has(key: string): boolean {\r\n        return !!this.get(key);\r\n    }\r\n\r\n    /**\r\n     * Determine if the key does not exist in the Storage object.\r\n     *\r\n     * @param { string } key\r\n     *\r\n     * @return { boolean }\r\n     */\r\n    static missing(key: string): boolean {\r\n        return !this.has(key);\r\n    }\r\n\r\n    /**\r\n     * Determine if any of the keys exists in the Storage object.\r\n     *\r\n     * @param { string | string[] } keys\r\n     *\r\n     * @return { boolean }\r\n     */\r\n    static hasAny(...keys: [string | string[]] | string[]): boolean {\r\n        if (keys.length === 1) {\r\n            if (Array.isArray(keys[0])) {\r\n                keys = keys[0];\r\n            } else {\r\n                keys = [keys[0]];\r\n            }\r\n        }\r\n\r\n        return keys.some((key: string): boolean => this.has(key));\r\n    }\r\n\r\n    /**\r\n     * Determine if the Storage object is empty.\r\n     *\r\n     * @return { boolean }\r\n     */\r\n    static isEmpty(): boolean {\r\n        return this.#storage.length === 0;\r\n    }\r\n\r\n    /**\r\n     * Determine if the Storage object is not empty.\r\n     *\r\n     * @return { boolean }\r\n     */\r\n    static isNotEmpty(): boolean {\r\n        return !this.isEmpty();\r\n    }\r\n\r\n    /**\r\n     * Retrieves all keys from the Storage object.\r\n     *\r\n     * @return { string[] }\r\n     */\r\n    static keys(): string[] {\r\n        return Object.keys(this.#storage);\r\n    }\r\n\r\n    /**\r\n     * Returns the total number of items in the Storage object.\r\n     *\r\n     * @return { number }\r\n     */\r\n    static count(): number {\r\n        return this.#storage.length;\r\n    }\r\n\r\n    /**\r\n     * Updates the item expiration time.\r\n     *\r\n     * @param { string } key\r\n     * @param { number | null } ttl\r\n     *\r\n     * @return { boolean }\r\n     */\r\n    static touch(key: string, ttl: number | null = null): boolean {\r\n        const item: any = this.get(key);\r\n\r\n        if (item === null) {\r\n            return false;\r\n        }\r\n\r\n        return this.set(key, item, ttl ?? this.#ttl);\r\n    }\r\n\r\n    /**\r\n     * Returns the expiration date for a given key.\r\n     *\r\n     * @param { string } key\r\n     *\r\n     * @return { Date | null }\r\n     */\r\n    static expiry(key: string): Date | null {\r\n        const storageItem: string | null = this.#storage.getItem(key);\r\n\r\n        if (storageItem === null) {\r\n            return null;\r\n        }\r\n\r\n        try {\r\n            const item: LocalStorageItem | null = JSON.parse(storageItem);\r\n\r\n            if (item === null || item.expiry === undefined || item.expiry === null) {\r\n                return null;\r\n            }\r\n\r\n            return new Date(item.expiry);\r\n        } catch {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Dump the key from the Storage object.\r\n     *\r\n     * @param { string } key\r\n     */\r\n    static dump(key: string): void {\r\n        console.log(this.get(key));\r\n    }\r\n\r\n    /**\r\n     * Replace the Local Storage instance with a fake.\r\n     *\r\n     * @return { void }\r\n     */\r\n    static fake(): void {\r\n        this.#storage = new LocalStorageFake();\r\n    }\r\n\r\n    /**\r\n     * Restore the Local Storage instance.\r\n     *\r\n     * @return { void }\r\n     */\r\n    static restore(): void {\r\n        this.#storage = localStorage;\r\n    }\r\n\r\n    /**\r\n     * Determines whether a \"fake\" has been set as the Local Storage instance.\r\n     *\r\n     * @return { boolean }\r\n     */\r\n    static isFake(): boolean {\r\n        return this.#storage instanceof LocalStorageFake;\r\n    }\r\n\r\n    /**\r\n     * Register an event listener.\r\n     *\r\n     * @template { keyof LocalStorageEvents } K\r\n     *\r\n     * @param { K | LocalStorageEvents } events\r\n     * @param { LocalStorageEventListener<K> | null } listener\r\n     *\r\n     * @return { void }\r\n     */\r\n    static listen(events: 'retrieving', listener: (event: RetrievingKey) => void): void;\r\n    static listen(events: 'hit', listener: (event: KeyHit) => void): void;\r\n    static listen(events: 'missed', listener: (event: KeyMissed) => void): void;\r\n    static listen(events: 'writing', listener: (event: WritingKey) => void): void;\r\n    static listen(events: 'written', listener: (event: KeyWritten) => void): void;\r\n    static listen(events: 'write-failed', listener: (event: KeyWriteFailed) => void): void;\r\n    static listen(events: 'forgot', listener: (event: KeyForgotten) => void): void;\r\n    static listen(events: 'forgot-failed', listener: (event: KeyForgotFailed) => void): void;\r\n    static listen(events: 'flushing', listener: (event: StorageFlushing) => void): void;\r\n    static listen(events: 'flushed', listener: (event: StorageFlushed) => void): void;\r\n    static listen(events: LocalStorageEvents): void;\r\n    static listen<K extends keyof LocalStorageEvent>(events: keyof LocalStorageEvent, listener: LocalStorageEventListener<K>): void;\r\n    static listen<K extends keyof LocalStorageEvent>(events: keyof LocalStorageEvent | LocalStorageEvents, listener: LocalStorageEventListener<K> | null = null): void {\r\n        events = typeof events === 'string' ? { [events]: listener } : events;\r\n\r\n        for (const [event, listener] of Object.entries(events)) {\r\n            addEventListener(`local-storage:${event}`, listener as EventListener, { once: true });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Register a listener on \"retrieving\" event.\r\n     *\r\n     * @param { (event: RetrievingKey) => void } listener\r\n     *\r\n     * @return { void }\r\n     */\r\n    static onRetrieving(listener: (event: RetrievingKey) => void): void {\r\n        this.listen('retrieving', listener);\r\n    }\r\n\r\n    /**\r\n     * Register a listener on \"hit\" event.\r\n     *\r\n     * @param { (event: KeyHit) => void } listener\r\n     *\r\n     * @return { void }\r\n     */\r\n    static onHit(listener: (event: KeyHit) => void): void {\r\n        this.listen('hit', listener);\r\n    }\r\n\r\n    /**\r\n     * Register a listener on \"missed\" event.\r\n     *\r\n     * @param { (event: KeyMissed) => void } listener\r\n     *\r\n     * @return { void }\r\n     */\r\n    static onMissed(listener: (event: KeyMissed) => void): void {\r\n        this.listen('missed', listener);\r\n    }\r\n\r\n    /**\r\n     * Register a listener on \"writing\" event.\r\n     *\r\n     * @param { (event: WritingKey) => void } listener\r\n     *\r\n     * @return { void }\r\n     */\r\n    static onWriting(listener: (event: WritingKey) => void): void {\r\n        this.listen('writing', listener);\r\n    }\r\n\r\n    /**\r\n     * Register a listener on \"written\" event.\r\n     *\r\n     * @param { (event: KeyWritten) => void } listener\r\n     *\r\n     * @return { void }\r\n     */\r\n    static onWritten(listener: (event: KeyWritten) => void): void {\r\n        this.listen('written', listener);\r\n    }\r\n\r\n    /**\r\n     * Register a listener on \"failed\" event.\r\n     *\r\n     * @param { (event: KeyWriteFailed) => void } listener\r\n     *\r\n     * @return { void }\r\n     */\r\n    static onWriteFailed(listener: (event: KeyWriteFailed) => void): void {\r\n        this.listen('write-failed', listener);\r\n    }\r\n\r\n    /**\r\n     * Register a listener on \"forgot\" event.\r\n     *\r\n     * @param { (event: KeyForgotten) => void } listener\r\n     *\r\n     * @return { void }\r\n     */\r\n    static onForgot(listener: (event: KeyForgotten) => void): void {\r\n        this.listen('forgot', listener);\r\n    }\r\n\r\n    /**\r\n     * Register a listener on \"forgot-failed\" event.\r\n     *\r\n     * @param { (event: KeyForgotFailed) => void } listener\r\n     *\r\n     * @return { void }\r\n     */\r\n    static onForgotFailed(listener: (event: KeyForgotFailed) => void): void {\r\n        this.listen('forgot-failed', listener);\r\n    }\r\n\r\n    /**\r\n     * Register a listener on \"flushing\" event.\r\n     *\r\n     * @param { (event: StorageFlushing) => void } listener\r\n     *\r\n     * @return { void }\r\n     */\r\n    static onFlushing(listener: (event: StorageFlushing) => void): void {\r\n        this.listen('flushing', listener);\r\n    }\r\n\r\n    /**\r\n     * Register a listener on \"flushed\" event.\r\n     *\r\n     * @param { (event: StorageFlushed) => void } listener\r\n     *\r\n     * @return { void }\r\n     */\r\n    static onFlushed(listener: (event: StorageFlushed) => void): void {\r\n        this.listen('flushed', listener);\r\n    }\r\n\r\n    /**\r\n     * Emit an event for the Local Storage instance.\r\n     *\r\n     * @template { keyof LocalStorageEvents } K\r\n     *\r\n     * @param { LocalStorageEvent[K] } event\r\n     *\r\n     * @returns { void }\r\n     */\r\n    private static emit<K extends keyof LocalStorageEvent>(event: LocalStorageEvent[K]): void {\r\n        dispatchEvent(event);\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}